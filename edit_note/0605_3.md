# ELEC462 프로젝트 - 고급 시스템 프로그래밍 기법 정리

이 문서는 미로 게임 프로젝트에서 사용된 고급 시스템 프로그래밍 기법들을 정리한 내용입니다.

---

## 사용된 고급 시스템 프로그래밍 기법

### 1. 멀티스레딩 (POSIX Threads, `pthread`)
- `pthread_create`, `pthread_join` 등을 사용하여 적(Enemy)의 움직임을 별도 스레드에서 처리.
- 메인 루프와 병렬로 작동하여 플레이어와 적이 동시에 움직일 수 있도록 구현.
- 적 AI가 독립적인 추적, 랜덤 이동, 패턴 기반 행동을 수행.

### 2. 비동기 입력 처리 (`ncurses` + `timeout()`)
- `timeout(100)`을 설정해 `getch()`가 입력이 없을 때에도 루프를 계속 돌 수 있도록 구성.
- `usleep()`와 조합하여 플레이어 속도에 따라 입력 반응을 세밀하게 조절.
- 실시간 반응형 키 입력으로 자연스러운 게임 플레이 가능.

### 3. 터미널 기반 UI 구성 (`ncurses`)
- `mvprintw`, `attron`, `attroff`, `COLOR_PAIR()` 등을 사용하여 색상과 좌표 기반 UI 구성.
- 실시간으로 생명, 점수, 시간, 아이템 상태 등을 HUD 형태로 표시.
- 커서 숨김, 화면 갱신(`erase`, `refresh`)을 통해 깜빡임 없는 화면 구현.

### 4. 상태 기반 게임 흐름 제어 (State Machine)
- `GameState` enum (`STATE_MENU`, `STATE_GAME`, `STATE_EXIT`)을 통해 게임의 주요 상태 구분.
- 화면 전환과 기능 실행 흐름을 명확히 분리하여 유지보수성과 확장성 향상.

### 5. 비동기 이벤트 및 타이머 로직
- `time_t`, `time(NULL)`을 활용하여 시간 제한, 쿨타임(`Z_COOLDOWN`), 남은 시간 계산 구현.
- 시간 증가 아이템 `'T'`는 `level_start_time` 조작을 통해 즉각 반영.
- 적 등장 타이밍, 포탈 개방 타이밍 등을 시간 기반으로 제어.

### 6. 랜덤성과 시드 기반 동작
- `srand(time(NULL) + level)`을 이용해 각 레벨마다 새로운 미로 및 아이템 배치 생성.
- `rand()`를 사용한 미로 생성 방향 섞기, 아이템 위치 무작위 배치 등 활용.

### 7. 메모리 초기화 및 자원 재사용
- `memset()`으로 미로 배열 초기화, `strncpy`로 문자열 복사 등 C 기반 저수준 메모리 처리.
- 배열 기반 maze, enemy 구조체를 재사용하며 reset 및 상태 복원 처리.

### 8. 조건 분기 기반 게임 전략 및 AI
- 아이템 종류에 따른 조건 분기 처리 (`'?'`, `'K'`, `'M'`, `'B'` 등).
- 해커 스타일, 트릭스터 효과 등 캐릭터 특성 분기 처리.
- 적의 성격에 따라 이동 방식 차등 구현 (랜덤형, 추적형 등).

### 9. 저수준 키보드 이벤트 핸들링
- `KEY_UP`, `KEY_DOWN`, `KEY_LEFT`, `KEY_RIGHT`, `'z'`, `'w'`, `'x'` 등의 입력을 직접 처리.
- `	`(Tab), `'q'` 등 특수 키 입력도 반영하여 유저 조작 다양화.

---


